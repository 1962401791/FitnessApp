技术决策与总结

文档：架构与技术选型

用户流程：Launch → Onboarding → 模式选择 → 基础信息 → 主界面
- Launch：品牌展示（logo.png），约 2s 或点击跳过；若已见过 Onboarding 则直接进入模式选择。
- Onboarding：3 屏引导（健康生活、营养、社区），跳过/下一页/开始使用；完成后设置 hasSeenOnboarding，进入模式选择。
- 模式选择（游客/登录）→ 若选游客且无基础信息：进入基础信息页（年龄、身高必填；体重、性别建议）→ 主界面。
- 基础信息持久化存储；再次启动若已填写则跳过。
- 用于 BMR（如 Mifflin-St Jeor）及运动消耗（MET × 体重 × 时长）计算。

数据存储
选择：通过 Qt SQL 使用 SQLite 存储食物数据库和每日摄入记录。

原因：支持查询和聚合每日总计及历史数据；MVP 阶段无需网络；后续易于扩展更多数据表（如训练/姿势数据）。

三大宏量营养素计算
选择：本地食物表包含每 100 克（或每份）的蛋白质、碳水、脂肪、千卡；摄入量以克（或份数）为单位；计算在 C++ 中完成。

公式：各宏量营养素及千卡计算公式为 (每100克数值 / 100) * 摄入克数。

原因：结果确定、离线可用、可测试；后续可通过外部 API 或导入功能替换计算接口。

用户界面与样式
选择：QML 单根节点，页面堆叠管理；通过 StyleConstants.qml 实现全局样式（颜色、字体、圆角）。

原因：设计标记集中管理，便于与 Figma 对齐，后续添加主题也更容易。

可扩展性（姿势纠正）
选择：C++ 中定义 IPoseCorrectionService 接口，并提供空实现（PoseCorrectionService）；QML 仅使用该单例。

原因：后续可添加真实的姿势检测功能（例如 ML Kit / ONNX），而无需修改 QML 结构。调用 startExercise 时，存根会发出 errorOccurred("姿势纠正功能尚未实现。") 信号。

命名与结构
C++：类型和文件使用帕斯卡命名；成员变量使用 m_ 前缀；Qt 信号/槽遵循项目规范。

QML：文件使用帕斯卡命名；根对象 id: root；样式文件置于 qml/styles/，页面文件置于 qml/pages/。