# 健身 App

## 背景：是什么和为什么

此项目是一款面向安卓系统的健身应用程序（可选桌面支持），使用 **Qt 6.10**、**QML** 和 **C++17** 构建。其重点在于：

- **短期（最小可行产品）**：可靠地计算三大营养素（蛋白质、碳水化合物、脂肪）的摄入量，并提供完整的用户界面用于记录饮食和每日总结，与常见的健身应用程序行为保持一致。
- **后期**：具备扩展性，以支持诸如在锻炼期间（多种运动类型）进行**姿势/体态矫正**等功能。

之所以选择该技术栈，是因为它具备跨平台用户界面（QML）、高效的逻辑和存储（C++/SQLite）功能，而且日后能够添加原生 Android 或 C++ 机器学习（例如姿态检测）功能，而无需重写应用程序。

## 使用模式

### 游客模式

无需登录即可使用，仅开放基础功能：

- **三大营养素计算**：添加食物、记录份量，自动计算蛋白质、碳水、脂肪及热量。
- **计入时段**：记录时可选择时段——早餐、中餐、晚餐、加餐。加餐可在任意时刻添加。
- 数据仅存储在本地设备，不进行云同步。

### 登录模式

需注册/登录账号后使用，具体功能尚未规划，后续再设计（如云端同步、跨设备、训练计划等）。

## 技术栈与数据

- **用户界面**：Qt Quick / Qt Quick Controls 2（QML）
- **逻辑与数据**：C++17，SQLite（Qt SQL）
- **食物数据库**：优先使用现有开源数据（如 Open Food Facts、USDA FoodData Central 导出等），便于快速落地且便于后续扩展。
- **构建**：CMake 3.16 及以上版本，Qt 6.10
- **目标平台**：首先支持 Android；支持 Windows 桌面构建

## 项目结构

- `src/` — C++ 核心、模型、服务、主文件
- `qml/` — QML 用户界面（页面、组件、样式）
- `resources/` — 应用资源
- `docs/` — 设计和技术决策
- `README.md`、`todo.md`、`log.md` — 项目文档和进度

## 构建与运行

- **桌面端（例如 Windows）**：使用 Qt 6.10 工具包进行配置，然后构建并运行应用程序。
- **安卓**：使用配置了 Android 工具包（SDK/NDK）的 Qt Creator；构建并部署到设备/模拟器。

## 相关文档

- 产品需求设计：`docs/product-requirements.md`
- 技术决策：`docs/decisions.md`
- UI 逻辑链与设计映射：`docs/ui-interaction-logic.md`、`docs/hsport-pen-ui-logic-map.md`
- 任务与验收标准：`todo.md`